<html>
  <header>
    <title>aws-api-gateway</title>
    <script type="text/javascript" src="lib/axios/dist/axios.standalone.js"></script>
    <script type="text/javascript" src="lib/CryptoJS/rollups/hmac-sha256.js"></script>
    <script type="text/javascript" src="lib/CryptoJS/rollups/sha256.js"></script>
    <script type="text/javascript" src="lib/CryptoJS/components/hmac.js"></script>
    <script type="text/javascript" src="lib/CryptoJS/components/enc-base64.js"></script>
    <script type="text/javascript" src="lib/url-template/url-template.js"></script>
    <script type="text/javascript" src="lib/apiGatewayCore/sigV4Client.js"></script>
    <script type="text/javascript" src="lib/apiGatewayCore/apiGatewayClient.js"></script>
    <script type="text/javascript" src="lib/apiGatewayCore/simpleHttpClient.js"></script>
    <script type="text/javascript" src="lib/apiGatewayCore/utils.js"></script>
    <script type="text/javascript" src="apigClient.js"></script>
  </header>
  <body>
    <button onclick="getAllIds()">get all ids</button>
    <button onclick="getOne()">get one</button>
    <button onclick="addOne()">add one</button><br>
    <input type="text" id="id" placeholder="id"><br>
    <input type="text" id="author" placeholder="author"><br>
    <input type="text" id="email" placeholder="email"><br>
    <input type="text" id="content" placeholder="content"><br><br><br>
    <pre id="json"></pre>

    <script type="text/javascript">
      var apigClient = apigClientFactory.newClient({
        accessKey: 'AKIAJEIFGCQ7Q5OWO23Q',
        secretKey: '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',
        region: 'us-west-2'
      });
      function getAllIds() {
        apigClient.getallidsGet({}, {}, {})
          .then(function(result){
            console.log(result);
            var data = JSON.stringify(result,undefined, 2);
            document.getElementById("json").innerHTML = data;
          }).catch(function(result){
            console.log(result);
            var data = JSON.stringify(result,undefined, 2);
            document.getElementById("json").innerHTML = result;
          });
      }
      function getOne() {
        var id = document.getElementById('id').value;
        alert(id);
        apigClient.getoneGet({id}, {}, {})
          .then(function(result){
            console.log(result);
            var data = JSON.stringify(result,undefined, 2);
            document.getElementById("json").innerHTML = data;
          }).catch(function(result){
            console.log(result);
            var data = JSON.stringify(result,undefined, 2);
            document.getElementById("json").innerHTML = data;
          });
      }
      function addOne() {
        var author = document.getElementById('author').value;
        var email = document.getElementById('email').value;
        var content = document.getElementById('content').value;
        apigClient.addonePost({}, {author, email, content}, {})
          .then(function(result){
            console.log(result);
            var data = JSON.stringify(result,undefined, 2);
            document.getElementById("json").innerHTML = data;
          }).catch(function(result){
            console.log(result);
            var data = JSON.stringify(result,undefined, 2);
            document.getElementById("json").innerHTML = data;
          });
      }
    </script>
  </body>
</html>
